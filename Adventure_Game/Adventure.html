<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Adventure Game</title>
    </head>
    <body>
        <h1>Adventure Game v1.0</h1>
        <p>made by: Markus Nixon</p>
        <script>
            var inventory = {
                medallions:0,
                Torch:0,
                rusty_key:0,
                sword:0,
            }
            Start();
            
        function Start(){
            
            var playerName = prompt("Who are you?");
            
            alert("You wake up in a musty cell, lit by a single torch.");
            
            var startGame = confirm("Do you try to escape?");
            
                if(startGame){
                    Cell();
                }
                else{
                    alert("Then Starvation takes you.");
                }
            
        }
        
        function Cell(){
            var cell = prompt("You are chained up to the wall, the chains look rusted beyond imagination").toLowerCase();
            
            switch(cell){
                    
                case "break chains":
                    alert("The chains break with considerable ease.");
                    Cell_Standing();
                    break;
                case "break chain":
                    alert("The chain breaks with considerable ease.");
                    Cell_Standing();
                    break;
                default:
                    alert("You don't know how to " + cell);
                    Cell();
                    break;
                       }
        }
            function Cell_Standing(){
                var standing = prompt("You are standing in an empty cell made of stone slabs, there is a torch on the wall and a old cot, the rusty metal door is locked.").toLowerCase();
                
                switch(standing){
                        
                    case "break door":
                        if (inventory.sword >= 1){
                            Dark_Hall();
                        }
                        else if(alert("You slam against the unyielding door, your shoulder hurts. a ragged cloaked figure appears out of nowhere.")){
                            Cloaked_Figure();
                            break;
                        }
                    case "check cot":
                        alert("You find a medallion in the frame.");
                        inventory.medallions = inventory.medallions + 1;
                        Cell_Standing();
                        break;
                    default:
                        alert("You don't know how to " + standing);
                        Cell_Standing();
                        break;
                        }
        }
            function Cloaked_Figure(){
                var figure = prompt("You wanna buy something to get out?");
                if(figure == "key" || figure == "buy key" &&
                   inventory.medallions >= 1){
                    alert("It swipes a medallion and gives you a rusty key.");
                    inventory.rusty_key = inventory.rusty_key + 1;
                    alert("you have "+inventory.rusty_key+" rusty key.");
                    inventory.medallions = inventory.medallions - 1;
                    alert("You have "+inventory.medallions+" medallions remaining.");
                    Cloaked_Figure();
                }
                else if(figure == "sword" || figure == "buy sword" && inventory.medallions >= 1){
                    alert("It swipes a medallion and gives you a sword.");
                    inventory.sword = inventory.sword + 1;
                    alert("you have "+inventory.sword+" sword.");
                    inventory.medallions = inventory.medallions - 1;
                    alert("You have "+inventory.medallions+" medallions.")
                    Cloaked_Figure();
                }
                else if(Cell_Standing());
        }
            function Dark_Hall(){
                alert("Yuo die!");
            }
            
            
            
            
            
            
        </script>
    </body>   
</html>